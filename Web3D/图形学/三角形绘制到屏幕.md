以下是对课件内容的详细翻译和解释，帮助你理解这节课的内容。这节课主要讲解了**光栅化（Rasterization）**，特别是如何将三角形绘制到屏幕上。

---

### **课件标题**
**计算机图形学导论（Introduction to Computer Graphics）**  
GAMES101, Lingqi Yan, 加州大学圣塔芭芭拉分校  
**Lecture 5: Rasterization 1 (Triangles)**

---

### **公告（Announcements）**
1. **作业 0**:
   - 已收到 188 份提交。
   - 如果你没有提交，不用担心。
2. **作业 1**:
   - 今天发布。
   - 包含基础和高级要求（分别评分）。
   - 是否通过只取决于基础要求。
3. **提问建议**:
   - 在论坛（BBS）提问时，请尽量描述清楚你的问题。
4. **本次讲座**:
   - 内容相对简单。

---

### **上节课回顾（Last Lecture）**
- **观察变换（Viewing Transformation）**:
  - 视图/相机变换（View/Camera Transformation）。
  - 投影变换（Projection Transformation）。
  - 正交投影（Orthographic Projection）。
  - 透视投影（Perspective Projection）。

---

### **今天的内容（Today）**
1. **完成观察变换**:
   - 视口变换（Viewport Transformation）。
2. **光栅化（Rasterization）**:
   - 不同的光栅显示方式。
   - 如何将三角形光栅化。
3. **遮挡和可见性（Occlusions and Visibility）**。

---

## **1. 视口变换（Viewport Transformation）**

### **1.1 从标准立方体到屏幕（Canonical Cube to Screen）**
- **屏幕是什么？**
  - 屏幕是一个像素数组。
  - 像素的排列和数量由分辨率（Resolution）决定。
  - 光栅化的目标是将三维场景绘制到屏幕上。

- **像素（Pixel）**:
  - 像素是“图像元素”（Picture Element）的缩写。
  - 每个像素是一个小方块，具有均匀的颜色。
  - 颜色由红、绿、蓝（RGB）三种颜色混合而成。

---

### **1.2 屏幕空间的定义**
- **像素的坐标**:
  - 屏幕上的像素用整数坐标 \( (x, y) \) 表示。
  - 像素的中心位于 \( (x + 0.5, y + 0.5) \)。
  - 屏幕的范围是 \( (0, 0) \) 到 \( (\text{width}, \text{height}) \)。

- **视口变换矩阵**:
  - 将标准立方体 \( [-1, 1]^2 \) 映射到屏幕范围 \( [0, \text{width}] \times [0, \text{height}] \)：
    \[
    M_{\text{viewport}} =
    \begin{bmatrix}
    \frac{\text{width}}{2} & 0 & 0 & \frac{\text{width}}{2} \\
    0 & \frac{\text{height}}{2} & 0 & \frac{\text{height}}{2} \\
    0 & 0 & 1 & 0 \\
    0 & 0 & 0 & 1
    \end{bmatrix}
    \]

---

## **2. 光栅化（Rasterization）**

### **2.1 什么是光栅化？**
- **定义**: 光栅化是将几何图形（如三角形）转换为屏幕上的像素。
- **目标**: 确定哪些像素属于三角形，并为这些像素赋予颜色。

---

### **2.2 为什么使用三角形？**
- **三角形的特点**:
  1. 最基本的多边形。
  2. 可以将其他多边形分解为三角形。
  3. 三角形总是平面的。
  4. 内部区域定义明确。
  5. 可以使用**重心插值（Barycentric Interpolation）**在三角形内部插值顶点的属性（如颜色、纹理坐标等）。

---

### **2.3 如何光栅化三角形？**

#### **2.3.1 输入和输出**
- **输入**: 三角形的顶点位置（投影到屏幕上）。
- **输出**: 一组像素值，近似表示三角形。

---

#### **2.3.2 采样（Sampling）**
- **定义**: 采样是对函数在某些点上的取值。
- **光栅化中的采样**:
  - 对于每个像素，检查其中心点是否在三角形内。
  - 如果在三角形内，则为该像素赋值。

- **判断点是否在三角形内**:
  - 定义一个二值函数：
    \[
    \text{inside}(\text{tri}, x, y) =
    \begin{cases}
    1, & \text{如果点 } (x, y) \text{ 在三角形内} \\
    0, & \text{否则}
    \end{cases}
    \]
  - 使用三角形的边界（通过叉积）来判断点是否在内部。

---

#### **2.3.3 使用边界框优化**
- **问题**: 检查屏幕上的每个像素是否在三角形内效率低。
- **解决方案**: 使用三角形的**边界框（Bounding Box）**，只检查边界框内的像素。

---

### **2.4 光栅化的实际显示**
- **显示设备**:
  - **LCD 显示器**: 每个像素由红、绿、蓝（RGB）子像素组成。
  - **LED 显示器**: 使用发光二极管阵列。
  - **电子墨水显示器（E-Ink）**: 使用电泳技术显示图像。

---

## **3. 光栅化中的问题**

### **3.1 锯齿（Aliasing）**
- **定义**: 当三角形的边缘不平滑时，会出现“锯齿”效果。
- **原因**: 由于像素是离散的，无法完美表示连续的三角形边缘。
- **解决方法**: 使用抗锯齿技术（Anti-Aliasing）。

---

### **总结**
1. **视口变换**: 将标准立方体映射到屏幕范围。
2. **光栅化**: 将三角形转换为像素。
3. **采样**: 判断像素中心是否在三角形内。
4. **优化**: 使用边界框减少计算量。
5. **显示问题**: 需要处理锯齿等问题。

---

如果你对某些部分仍有疑问，或者需要更详细的解释，请告诉我！
